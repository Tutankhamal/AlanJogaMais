<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Assista às transmissões ao vivo e vídeos recentes do canal Alan Joga+. Gaming, entretenimento e muito mais!">
    <meta name="keywords" content="Alan Joga+, gaming, live stream, transmissão ao vivo, YouTube, jogos">
    <meta name="author" content="Desenvolvido por André 'Tutankhamal' Borba">
    <meta name="developer" content="https://tutankhamal.com">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://alanjogamais.com/canal.html">
    <meta name="revisit-after" content="7 days">
    <meta http-equiv="cache-control" content="public, max-age=86400">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://alanjogamais.com/canal.html">
    <meta property="og:title" content="Canal Alan Joga+ | Transmissões e Vídeos">
    <meta property="og:description" content="Assista às transmissões ao vivo e vídeos recentes do canal Alan Joga+. Gaming, entretenimento e muito mais!">
    <meta property="og:image" content="https://i.imgur.com/NUNCQPW.png">
    <meta property="og:image:width" content="600">
    <meta property="og:image:height" content="240">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://alanjogamais.com/canal.html">
    <meta property="twitter:title" content="Canal Alan Joga+ | Transmissões e Vídeos">
    <meta property="twitter:description" content="Assista às transmissões ao vivo e vídeos recentes do canal Alan Joga+. Gaming, entretenimento e muito mais!">
    <meta property="twitter:image" content="https://i.imgur.com/NUNCQPW.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="./assets/images/favicon.ico">
    <link rel="apple-touch-icon" href="./assets/images/favicon.ico">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Lite YouTube Embed CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lite-youtube-embed@0.3.2/src/lite-yt-embed.css">
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="./assets/css/style.css">
    
    <!-- Schema.org markup para SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Canal Alan Joga+ | Transmissões e Vídeos",
      "url": "https://alanjogamais.com/canal.html",
      "description": "Assista às transmissões ao vivo e vídeos recentes do canal Alan Joga+. Gaming, entretenimento e muito mais!",
      "isPartOf": {
        "@type": "WebSite",
        "name": "Alan Joga+",
        "url": "https://alanjogamais.com/"
      }
    }
    </script>
    
    <title>Canal Alan Joga+ | Transmissões e Vídeos</title>
</head>
<body>
    <!-- Schema.org markup -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Alan Joga+",
        "url": "https://alanjogamais.com",
        "sameAs": [
            "https://www.youtube.com/@alanjogamais",
            "https://www.instagram.com/alanjogamais",
            "https://www.tiktok.com/@alanjogamais"
        ]
    }
    </script>
    
    <!-- Skip to main content -->
    <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>
    
    <!-- Hexagon Background -->
    <div id="hexagon-background" class="hexagon-background" aria-hidden="true"></div>
    
    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Navegação principal">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="./index.html" class="nav-logo-link">
                    <img src="./assets/images/main_logo.webp" alt="Alan Joga+ Logo" width="50" height="50">
                    <span class="nav-brand">Alan Joga+</span>
                </a>
            </div>
            
            <button class="nav-toggle" aria-label="Abrir menu de navegação" aria-expanded="false">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            
            <ul class="nav-menu" role="menubar">
                <li class="nav-item" role="none">
                    <a href="./index.html" class="nav-link" role="menuitem">Início</a>
                </li>
                <li class="nav-item" role="none">
                    <a href="./shop.html" class="nav-link" role="menuitem">Loja</a>
                </li>
                <li class="nav-item" role="none">
                    <a href="./canal.html" class="nav-link active" role="menuitem" aria-current="page">Canal</a>
                </li>
                <li class="nav-item" role="none">
                    <a href="./extras.html" class="nav-link" role="menuitem">Extras</a>
                </li>
                <li class="nav-item" role="none">
                    <a href="./sobre.html" class="nav-link" role="menuitem">Sobre</a>
                </li>
                <li class="nav-item" role="none">
                    <a href="./contato.html" class="nav-link" role="menuitem">Contato</a>
                </li>
            </ul>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main id="main-content">
        <!-- Canal Hero Section -->
        <section class="shop-hero-section" aria-labelledby="canal-hero-title">
            <div class="container">
                <div class="shop-hero-content">
                    <h1 id="canal-hero-title" class="hero-title glitch-text">Canal Alan Joga+</h1>
                    <p class="hero-description">Transmissões ao vivo e conteúdo gaming de qualidade!</p>
                    <div class="shop-hero-stats">
                        <div class="shop-stat">
                            <i class="fas fa-broadcast-tower" aria-hidden="true"></i>
                            <span>Lives Regulares</span>
                        </div>
                        <div class="shop-stat">
                            <i class="fas fa-gamepad" aria-hidden="true"></i>
                            <span>Gaming Variado</span>
                        </div>
                        <div class="shop-stat">
                            <i class="fas fa-users" aria-hidden="true"></i>
                            <span>Comunidade Ativa</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Main Player Section -->
        <section class="main-player-section">
            <div class="container">
                <div class="main-player-container">
                    <div class="player-header">
                        <h2 class="player-title">Transmissão Principal</h2>
                        <div class="player-status" id="player-status">
                            <i class="fas fa-circle" aria-hidden="true"></i>
                            <span>Carregando...</span>
                        </div>
                    </div>
                    
                    <div class="main-player-content">
                        <div class="main-player" id="liveplayer-video" loading="lazy">
                            <div class="player-loading">
                                <div class="loading-spinner"></div>
                                <span>Carregando player...</span>
                            </div>
                        </div>
                        
                        <div class="player-info">
                            <h3 class="player-video-title" id="liveplayer-title">Carregando...</h3>
                            <div class="player-actions" id="liveplayer-buttons" style="display: none;">
                                <!-- Botões serão inseridos via JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Section (only for live streams) -->
                    <div class="player-chat" id="liveplayer-chat" style="display: none;">
                        <!-- Chat iframe será inserido via JavaScript -->
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Canal Videos Section -->
        <section class="canal-videos-section">
            <div class="container">
                <h2 class="section-title">Vídeos Recentes</h2>
                <div class="canal-videos-grid" id="canal-videos-grid">
                    <div class="loading-container">
                        <div class="loading-spinner"></div>
                        <span>Carregando vídeos...</span>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-social">
                    <h3 class="footer-title">Redes Sociais</h3>
                    <div class="social-links">
                        <a href="https://livepix.gg/alanjogamais" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="LivePix">
                            <i class="fas fa-donate" aria-hidden="true"></i>
                        </a>
                        <a href="https://youtube.com/@alanjogamais/join" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="Seja membro no YouTube">
                            <i class="fas fa-crown" aria-hidden="true"></i>
                        </a>
                        <a href="https://www.youtube.com/@alanjogamais" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="Canal no YouTube">
                            <i class="fab fa-youtube" aria-hidden="true"></i>
                        </a>
                        <a href="https://instagram.com/alanjogamais" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                            <i class="fab fa-instagram" aria-hidden="true"></i>
                        </a>
                        <a href="https://discord.gg/Hjjg6vMUTw" class="social-link" target="_blank" rel="noopener noreferrer" aria-label="Comunidade Discord">
                            <i class="fab fa-discord" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-info">
                    <p class="copyright">&copy; 2025 Alan Joga Mais. Todos os direitos reservados.</p>
                    <p class="developer-credit">
                        Desenvolvido por <a href="https://tutankhamal.com" class="developer-name" target="_blank" rel="noopener noreferrer">Tutankhamal DEV</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top" aria-label="Voltar ao topo" title="Voltar ao topo">
        <i class="fas fa-chevron-up" aria-hidden="true"></i>
    </button>
    
    <!-- Scripts -->

    <script src="./assets/scripts/hexagon-background.js"></script>
    
    <!-- Canal Page Script -->
    <script>
        const channelId = 'UCrejM1xjPRDHwusX6ILS4Wg';
        const feedUrl = `https://www.youtube.com/feeds/videos.xml?channel_id=${channelId}`;
        const apiUrl = 'https://api.rss2json.com/v1/api.json?rss_url=' + encodeURIComponent(feedUrl);
        const domain = location.hostname;
        
        function loadLivePlayer() {
            fetch(apiUrl)
                .then(res => res.json())
                .then(data => {
                    const items = data.items.filter(item => !item.title.toLowerCase().includes('#shorts'));
                    if (!items.length) {
                        document.getElementById('liveplayer-title').textContent = 'Nenhum vídeo válido encontrado.';
                        document.getElementById('liveplayer-video').innerHTML = '';
                        document.getElementById('liveplayer-chat').innerHTML = '';
                        document.getElementById('liveplayer-buttons').style.display = 'none';
                        return;
                    }
                    const liveVideo = items.find(item => item.thumbnail && item.thumbnail.includes('hqdefault_live.jpg'));
                    const chosenVideo = liveVideo || items[0];
                    const videoIdMatch = chosenVideo.link.match(/v=([\w-]+)/);
                    const videoId = videoIdMatch ? videoIdMatch[1] : '';
                    const title = chosenVideo.title;
                    const isLive = !!liveVideo;
                    
                    // Update player status
                    const statusElement = document.getElementById('player-status');
                    if (isLive) {
                        statusElement.className = 'player-status live';
                        statusElement.innerHTML = '<i class="fas fa-circle" aria-hidden="true"></i><span>AO VIVO</span>';
                    } else {
                        statusElement.className = 'player-status offline';
                        statusElement.innerHTML = '<i class="fas fa-circle" aria-hidden="true"></i><span>ÚLTIMO VÍDEO</span>';
                    }
                    
                    document.getElementById('liveplayer-title').textContent = title;
                    document.getElementById('liveplayer-video').innerHTML = `
                        <lite-youtube 
                            videoid="${videoId}" 
                            playlabel="${title.replace(/"/g, "'")}">
                        </lite-youtube>
                    `;
                    document.getElementById('liveplayer-buttons').innerHTML = `
                        <a href="https://www.youtube.com/watch?v=${videoId}" target="_blank" class="player-btn primary">
                            <i class="fab fa-youtube" aria-hidden="true"></i>
                            Ver no YouTube
                        </a>
                        <a href="https://www.youtube.com/channel/${channelId}/join" target="_blank" class="player-btn secondary">
                            <i class="fas fa-star" aria-hidden="true"></i>
                            Seja Membro
                        </a>
                    `;
                    document.getElementById('liveplayer-buttons').style.display = 'flex';
                    
                    // Chat handling - only show for live streams and valid domains
                    if (isLive && domain !== "") {
                        document.getElementById('liveplayer-chat').style.display = 'block';
                        document.getElementById('liveplayer-chat').innerHTML = `
                            <div class="chat-header">
                                <h3>Chat ao Vivo</h3>
                            </div>
                            <iframe 
                                src="https://www.youtube.com/live_chat?v=${videoId}&embed_domain=${domain}" 
                                allowfullscreen 
                                style="width:100%;height:400px;border:none;">
                            </iframe>
                        `;
                    } else {
                        document.getElementById('liveplayer-chat').style.display = 'none';
                        document.getElementById('liveplayer-chat').innerHTML = '';
                    }
                    
                    // Load recent videos grid
                    loadRecentVideos(items.slice(1, 7)); // Skip the main video
                })
                .catch(err => {
                    console.error('Erro ao carregar player:', err);
                    document.getElementById('liveplayer-title').textContent = 'Erro ao carregar a transmissão.';
                    document.getElementById('liveplayer-video').innerHTML = `
                        <div class="player-error">
                            <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
                            <p>Erro ao carregar o player</p>
                            <button onclick="loadLivePlayer()" class="retry-btn">
                                <i class="fas fa-redo" aria-hidden="true"></i>
                                Tentar Novamente
                            </button>
                        </div>
                    `;
                    document.getElementById('liveplayer-chat').innerHTML = '';
                    document.getElementById('liveplayer-buttons').style.display = 'none';
                });
        }
        
        function loadRecentVideos(videos) {
            const grid = document.getElementById('canal-videos-grid');
            
            if (!videos || videos.length === 0) {
                grid.innerHTML = `
                    <div class="no-videos">
                        <i class="fas fa-video-slash" aria-hidden="true"></i>
                        <p>Nenhum vídeo adicional disponível</p>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = '';
            
            videos.forEach((video, index) => {
                const videoIdMatch = video.link.match(/v=([\w-]+)/);
                const videoId = videoIdMatch ? videoIdMatch[1] : '';
                
                if (!videoId) return;
                
                const videoElement = document.createElement('div');
                videoElement.className = 'canal-video-item';
                videoElement.style.animationDelay = `${index * 0.1}s`;
                
                videoElement.innerHTML = `
                    <div class="video-thumbnail">
                        <lite-youtube 
                            videoid="${videoId}" 
                            playlabel="${video.title.replace(/"/g, "'")}">
                        </lite-youtube>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">${video.title}</h3>
                        <p class="video-date">${new Date(video.pubDate).toLocaleDateString('pt-BR')}</p>
                    </div>
                `;
                
                grid.appendChild(videoElement);
            });
        }
        
        document.addEventListener('DOMContentLoaded', loadLivePlayer);
    </script>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/lite-youtube-embed@0.3.2/src/lite-yt-embed.js" defer></script>
    <script src="./assets/scripts/main.js" defer></script>
</body>
</html>